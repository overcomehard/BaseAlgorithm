# 查找数组中的众数

## 问题描述

- 找到数组中的众数
- 例如数组为: {2, 4, 3, 1, 4, 2, 5, 10, 2}
- 则众数为: 2
- 如果有多个众数, 则只找出其中一个即可

## 解题思路

- 简单的思路即穷举
    - 假设数组中的不相同的元素个数为M
    - 为了统计不同元素出现的频次, 则至少需要辅助空间: 2M (key, count)
    - 时间复杂度为: O(NM) (遍历数组时, 还需要遍历辅助数组空间)
    - 最坏情况, M==N, 则此时空间复杂度为$O(N)$, 时间复杂度为$O(N^2)$
    - 统计出所有元素出现的次数后, 再找出次数最多的即可
- 排序后统计
    - 排序的时间复杂度为$O(N \log N)$, 空间复杂度可以做到$O(1)$
    - 因为只找出其中一个众数, 因此空间复杂度可以做到$O(1)$
    - 遍历一次排序好的数组即可统计出来出现次数做多的元素, 具体方法见代码
- 如果希望找到全部的众数, 又该如何?

## 代码

```C
int find_mode(int *array, int n)
{
    // 排序
    quick_sort(array, n);
    
    int key, count = 0;
    for(int start = 0, end = 1; end<n; end++) {
        if (array[end] != array[end-1]) {
            if (end - start > count) {
                key = array[start];
                count = end - start;
            }
            start = end;
        }
        // 处理末尾
        if (end == n-1 && (end-start+1 > count))
        {
            key = array[start];
            count = end-start+1;
        }
    }
    return key;
}
```
